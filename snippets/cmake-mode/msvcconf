# -*- mode: snippet -*-
# name: msvc flags
# key: msv
# --

# /nologo:  don't show version info
# /Ox:      full optimization
# /Oy-:     don't omit frame pointer
# /fp:fast: use fast floating point precision model
# /Gy:      enable function level linking
# /utf-8:   set source charset to utf-8
# /MP:      build with multiple processes
# /bigobj:  allow large .obj files
# /Wx:      treat warnning as error
# /wd4653:  Ignore PCH for any individual file that has different optimization settings
# /wd4068:  "Unknown pragma"

set(PROJ_COMMON_FLAGS "/W4 /nologo /GF /utf-8 /MP /wd4653 /wd4068")
set(CMAKE_RC_FLAGS /nologo)

if(PROJ_ERROR)
  set(PROJ_COMMON_FLAGS "\${PROJ_COMMON_FLAGS} /WX")
endif()

if(CMAKE_BUILD_TYPE MATCHES Debug)
  set(PROJ_COMMON_FLAGS "\${PROJ_COMMON_FLAGS} /Zi /Zo /Oy- /MDd")
else()
  set(PROJ_COMMON_FLAGS "\${PROJ_COMMON_FLAGS} /Ox /MD")
endif()

